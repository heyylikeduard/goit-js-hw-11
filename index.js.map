{"version":3,"file":"index.js","sources":["../src/js/pixabay.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = \"46909038-6f1101192bb2e76c1441c4637\"; \nconst BASE_URL = \"https://pixabay.com/api/\";\n\nexport async function fetchImages(query) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\",\n  });\n\n  try {\n    const response = await fetch(`${BASE_URL}?${params}`);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    const data = await response.json();\n    return data.hits; \n  } catch (error) {\n    console.error(\"Error fetching images:\", error);\n    throw error;\n  }\n}\n","export function createImageMarkup(images) {\n  return images\n    .map(\n      ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n      <div class=\"photo-card\">\n        <a href=\"${largeImageURL}\" class=\"gallery__item\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n        </a>\n        <div class=\"info\">\n          <p class=\"info-item\">\n            <b>Likes:</b> ${likes}\n          </p>\n          <p class=\"info-item\">\n            <b>Views:</b> ${views}\n          </p>\n          <p class=\"info-item\">\n            <b>Comments:</b> ${comments}\n          </p>\n          <p class=\"info-item\">\n            <b>Downloads:</b> ${downloads}\n          </p>\n        </div>\n      </div>\n    `\n    )\n    .join('');\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchImages } from \"./js/pixabay.js\";\nimport { createImageMarkup } from \"./js/render-functions.js\"\n\n\nconst form = document.getElementById(\"search-form\");\nconst galleryContainer = document.querySelector(\".gallery\");\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt', \n  captionDelay: 250,\n});\n\nform.addEventListener(\"submit\", async (event) => {\n  event.preventDefault();\n\n  const query = event.target.elements.query.value.trim();\n  if (query === \"\") {\n    iziToast.warning({ title: \"Warning\", message: \"Please enter a search term.\" });\n    return;\n  }\n\n  try {\n    const images = await fetchImages(query);\n\n    galleryContainer.innerHTML = '';\n\n    if (images.length === 0) {\n      iziToast.info({\n        title: \"Info\",\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n      });\n      return;\n    }\n\n    galleryContainer.innerHTML = createImageMarkup(images);\n\n    lightbox.refresh();\n\n  } catch (error) {\n    iziToast.error({ title: \"Error\", message: \"Failed to fetch images. Please try again later.\" });\n  }\n});"],"names":["API_KEY","BASE_URL","fetchImages","query","params","response","error","createImageMarkup","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","galleryContainer","lightbox","SimpleLightbox","event","iziToast"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAO,CACvC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,GAAI,CACF,MAAME,EAAW,MAAM,MAAM,GAAGJ,CAAQ,IAAIG,CAAM,EAAE,EACpD,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAGrC,OADa,MAAMA,EAAS,QAChB,IACb,OAAQC,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACP,CACH,CCvBO,SAASC,EAAkBC,EAAQ,CACxC,OAAOA,EACJ,IACC,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,mBAEjEL,CAAa;AAAA,sBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,4BAIpBC,CAAK;AAAA;AAAA;AAAA,4BAGLC,CAAK;AAAA;AAAA;AAAA,+BAGFC,CAAQ;AAAA;AAAA;AAAA,gCAGPC,CAAS;AAAA;AAAA;AAAA;AAAA,KAKpC,EACA,KAAK,EAAE,CACZ,CCjBA,MAAMC,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAmB,SAAS,cAAc,UAAU,EAE1D,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAChB,CAAC,EAEDH,EAAK,iBAAiB,SAAU,MAAOI,GAAU,CAC/CA,EAAM,eAAc,EAEpB,MAAMjB,EAAQiB,EAAM,OAAO,SAAS,MAAM,MAAM,OAChD,GAAIjB,IAAU,GAAI,CAChBkB,EAAS,QAAQ,CAAE,MAAO,UAAW,QAAS,6BAA6B,CAAE,EAC7E,MACD,CAED,GAAI,CACF,MAAMb,EAAS,MAAMN,EAAYC,CAAK,EAItC,GAFAc,EAAiB,UAAY,GAEzBT,EAAO,SAAW,EAAG,CACvBa,EAAS,KAAK,CACZ,MAAO,OACP,QAAS,0EACjB,CAAO,EACD,MACD,CAEDJ,EAAiB,UAAYV,EAAkBC,CAAM,EAErDU,EAAS,QAAO,CAEjB,MAAe,CACdG,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,iDAAiD,CAAE,CAC9F,CACH,CAAC"}